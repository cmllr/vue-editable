/**
MIT License

Copyright (c) 2017 Christoph MÃ¼ller
**/
editable={css:{input:"vue-editable-input",hidden:"vue-editable-hidden",editable:"vue-editable-can-edit"},id:"_vue_editable_",openInput:null,parent:null,install:function(t,e){void 0!==e&&null!==e&&void 0!==e.css&&null!==e.css&&(this.css=e.css);var i=this;Vue.directive("editable",{inserted:function(t,e,a,n){var r=e.expression,l=(null===t.getAttribute("data-type")||t.getAttribute("data-type"),{});if(t.attributes.length>0)for(var d in Object.keys(t.attributes)){var u=t.attributes[d].name;if(-1!==u.indexOf("data-")){var s=t.attributes[d].value;l[u.replace("data-","")]=s}}t.onclick=function(){i.getInput(t,r,l)},t.setAttribute("class",null!==t.getAttribute("class")?+t.getAttribute("class")+editable.css.editable:editable.css.editable)}})},getInput:function(t,e,i){if(null===editable.openInput){editable.openInput=t;var a=null!==t.getAttribute("class")?t.getAttribute("class"):"";a+=" "+editable.css.hidden,t.setAttribute("class",a);var n=document.createElement("input");for(var r in i)n.setAttribute(r,i[r]);n.setAttribute("class",editable.css.input),n.setAttribute("id",this.id),n.setAttribute("v-editable-target",e),null!==t.getAttribute("data-index")&&n.setAttribute("data-index",t.getAttribute("data-index"));var l=this.getPropertyValue(e,t.getAttribute("data-index"));null!==t.getAttribute("data-property")?(n.setAttribute("data-property",t.getAttribute("data-property")),n.value=l[t.getAttribute("data-property")]):n.value=l,n.onkeydown=this.rebind,t.appendChild(n),n.focus()}},convertType:function(t,e){return!("object"==typeof t)&&t%1==0?parseInt(e):e},getPropertyValue:function(t,e){var i=null;if(-1!==t.indexOf("."))for(var a=this.parent,n=t.split("."),r=0;r<n.length;r++){var l=n[r];if("object"!=typeof a[l]){i=a[l];break}a=a[l]}else i=this.parent[t];return null!==e?i[e]:i},getIndex:function(t){return null===t.getAttribute("data-index")?-1:parseInt(t.getAttribute("data-index"))},rebind:function(t){var e=document.getElementById(this.id),i=editable.getIndex(t.srcElement);if(13===t.which){var a=e.value,n=e.getAttribute("v-editable-target");if(editable.openInput.removeChild(e),-1!==n.indexOf("."))for(var r=editable.parent,l=n.split("."),d=0;d<l.length;d++){var u=l[d];if("object"!=typeof r[u]){r[u]=editable.convertType(r[u],a);break}r=r[u]}else if(-1!==i)if(null!==e.getAttribute("data-property")){var s=editable.parent[n][i],b=e.getAttribute("data-property");s[b]=editable.convertType(s[b],a),Vue.set(editable.parent[n],i,s)}else{var p=editable.parent[n][i];Vue.set(editable.parent[n],i,editable.convertType(p,a))}else editable.parent[n]=editable.convertType(editable.parent[n],a);editable.openInput.setAttribute("class",editable.openInput.getAttribute("class").replace(editable.css.hidden,"").trim()),editable.openInput=null}27===t.which&&(editable.openInput.removeChild(e),editable.openInput.setAttribute("class",editable.openInput.getAttribute("class").replace(editable.css.hidden,"").trim()),editable.openInput=null)}};