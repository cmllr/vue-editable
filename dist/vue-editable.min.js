/**
MIT License

Copyright (c) 2017 Christoph MÃ¼ller
**/
const editable={css:{input:"vue-editable-input",hidden:"vue-editable-hidden",editable:"vue-editable-can-edit"},openInput:null,parent:null,install:function(t,e){void 0!==e&&null!==e&&void 0!==e.css&&null!==e.css&&(this.css=e.css);var a=this;Vue.directive("editable",{inserted:function(t,e,i,n){var l=e.expression,r=(null===t.getAttribute("data-type")||t.getAttribute("data-type"),{});if(t.attributes.length>0)for(var u in Object.keys(t.attributes)){var d=t.attributes[u].name;if(-1!==d.indexOf("data-")){var s=t.attributes[u].value;r[d.replace("data-","")]=s}}t.onclick=function(){a.getInput(t,l,r)},t.setAttribute("class",null!==t.getAttribute("class")?+t.getAttribute("class")+editable.css.editable:editable.css.editable)}})},getInput:function(t,e,a){if(null===editable.openInput){editable.openInput=t;var i=null!==t.getAttribute("class")?t.getAttribute("class"):"";i+=" "+editable.css.hidden,t.setAttribute("class",i);var n=document.createElement("input");for(var l in a)n.setAttribute(l,a[l]);n.setAttribute("class",editable.css.input),n.setAttribute("id","jfksafjlasjl"),n.setAttribute("v-editable-target",e),null!==t.getAttribute("data-index")&&n.setAttribute("data-index",t.getAttribute("data-index"));var r=this.getPropertyValue(e,t.getAttribute("data-index"));null!==t.getAttribute("data-property")?(n.setAttribute("data-property",t.getAttribute("data-property")),n.value=r[t.getAttribute("data-property")]):n.value=r,n.onkeydown=this.rebind,t.appendChild(n),n.focus()}},convertType:function(t,e){return"object"!=typeof t&&t%1==0?parseInt(e):e},getPropertyValue:function(t,e){var a=null;if(-1!==t.indexOf("."))for(var i=this.parent,n=t.split("."),l=0;l<n.length;l++){var r=n[l];if("object"!=typeof i[r]){a=i[r];break}i=i[r]}else a=this.parent[t];return null!==e?a[e]:a},getIndex:function(t){return null===t.getAttribute("data-index")?-1:parseInt(t.getAttribute("data-index"))},rebind:function(t){var e=document.getElementById("jfksafjlasjl"),a=editable.getIndex(t.srcElement);if(13===t.which){var i=e.value,n=e.getAttribute("v-editable-target");if(editable.openInput.removeChild(e),-1!==n.indexOf("."))for(var l=editable.parent,r=n.split("."),u=0;u<r.length;u++){var d=r[u];if("object"!=typeof l[d]){l[d]=editable.convertType(l[d],i);break}l=l[d]}else if(-1!==a)if(null!==e.getAttribute("data-property")){var s=editable.parent[n][a],b=e.getAttribute("data-property");s[b]=editable.convertType(s[b],i),Vue.set(editable.parent[n],a,s)}else{var p=editable.parent[n][a];Vue.set(editable.parent[n],a,editable.convertType(p,i))}else editable.parent[n]=editable.convertType(editable.parent[n],i);editable.openInput.setAttribute("class",editable.openInput.getAttribute("class").replace(editable.css.hidden,"").trim()),editable.openInput=null}27===t.which&&(editable.openInput.removeChild(e),editable.openInput.setAttribute("class",editable.openInput.getAttribute("class").replace(editable.css.hidden,"").trim()),editable.openInput=null)}};